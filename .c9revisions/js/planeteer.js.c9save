{"ts":1354997301192,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Trying gravity around a planet \r\n// (point instead of global direction)\r\n// \r\n// The vector angles are flipped on the x axis\r\n\r\n// First, set up require js and other window properties\r\nvar require = window.parent.require;\r\nrequire.config({ baseUrl: '../' });\r\n\r\n// Create reference to request animation frame\r\nwindow.requestAnimationFrame = window.parent.requestAnimationFrame;\r\n\r\n// Load all dependencies and start game\r\nrequire(    \r\n['freebody', 'demo/js/Engine', 'demo/js/Planet', 'demo/js/Ship'],\r\nfunction (freebody, Engine, Planet, Ship) {\r\n    \r\n    var Ticker = function (options) {\r\n        var ticker = this,\r\n            display,\r\n            objToWatch;\r\n        \r\n        ticker.draw = function () {\r\n            display.attr('text', \r\n                'Fx: ' + Math.round(objToWatch.netForce().x(), 4) + ' | Fy: ' + -Math.round(objToWatch.netForce().y(), 4) + \r\n                ' | Vx: ' + Math.round(objToWatch.v.x(), 4) + ' | Vy: ' + -Math.round(objToWatch.v.y(), 4) + \r\n                ' | Px: ' + Math.round(objToWatch.x, 4) + ' | Py: ' + Math.round(objToWatch.y, 4));\r\n        };\r\n        \r\n        ticker.update = function (step) {\r\n           \r\n        };\r\n        \r\n        ticker.watch = function (obj) {\r\n            // Save ref to object\r\n            objToWatch = obj;\r\n        };\r\n        \r\n        ticker.create = function () {\r\n            display = new Text().addTo(stage).attr({\r\n                fontFamily: 'Arial, sans-serif',\r\n                fontSize: '16',\r\n                textFillColor: 'black',\r\n                textStrokeColor: 'black',\r\n                x: 5,\r\n                y: 5\r\n            });            \r\n            return ticker;  \r\n        };\r\n        \r\n        return ticker.create();\r\n    };\r\n    \r\n    var engine = new Engine(),\r\n        \r\n        // Random colors for balls\r\n        colors = ['blue', 'red', 'yellow', 'green', 'orange'],\r\n        randomColor = function () {\r\n            return colors[Math.round(Math.random() * colors.length)];\r\n        },\r\n        \r\n        // Add ball to engine (which then updates and renders is)\r\n        addShip = function () {\r\n            // Create new ship            \r\n            var ship = new Ship({}, Circle, stage);\r\n            \r\n            // Apply gravity to ship\r\n            freebody.gravity.planetary(ship, planet1, 1.9);\r\n            freebody.gravity.planetary(ship, planet2, 1.9);\r\n            \r\n            // Add ship to engine\r\n            engine.objects.push(ship);\r\n            \r\n            // Finally, tell ticker to watch ship\r\n            ticker.watch(ship);\r\n        };\r\n    \r\n    // Create new planet and add to engine\r\n    var planet1 = new Planet({ \r\n        x: window.parent.innerWidth/3,\r\n        y: 2*window.parent.innerHeight/3 \r\n    }, Circle, stage);\r\n    engine.objects.push(planet1);\r\n    \r\n    var planet2 = new Planet({ \r\n        x: 2*window.parent.innerWidth/3,\r\n        y: window.parent.innerHeight/3 \r\n    }, Circle, stage);\r\n    engine.objects.push(planet2);\r\n    \r\n    // Create ticker\r\n    var ticker = new Ticker();\r\n    engine.objects.push(ticker);\r\n    \r\n    // Add ship to environment\r\n    addShip();\r\n    \r\n    // Finally, start the engine\r\n    engine.start();\r\n    \r\n});"]],"start1":0,"start2":0,"length1":0,"length2":3219}]],"length":3219}
{"contributors":["tim.hall.engr@gmail.com"],"silentsave":false,"ts":1354997307867,"patch":[[{"diffs":[[0,"re;\r"],[-1,"\nrequire.config({ baseUrl: '../' });\r"],[0,"\n\r\n/"]],"start1":221,"start2":221,"length1":45,"length2":8}]],"length":3182,"saved":false}
{"ts":1354997378727,"patch":[[{"diffs":[[0,"body', '"],[-1,"demo/js/"],[0,"Engine',"]],"start1":408,"start2":408,"length1":24,"length2":16},{"diffs":[[0,"gine', '"],[-1,"demo/js/"],[0,"Planet',"]],"start1":418,"start2":418,"length1":24,"length2":16},{"diffs":[[0,"', '"],[-1,"demo/js/"],[0,"Ship"]],"start1":432,"start2":432,"length1":16,"length2":8}]],"length":3158,"saved":false}
{"ts":1354997432683,"patch":[[{"diffs":[[0,"equire;\r"],[1,"\nrequire.config({ baseUrl: './js' });\r"],[0,"\n\r\n// Cr"]],"start1":217,"start2":217,"length1":16,"length2":54}]],"length":3196,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354997524422,"patch":[[{"diffs":[[-1,"// Trying gravity around a planet \r\n// (point instead of global direction)\r\n// \r\n// The vector angles are flipped on the x axis"],[0,"\r\n\r\n"]],"start1":0,"start2":0,"length1":131,"length2":4}]],"length":3069,"saved":false}
{"ts":1354997572672,"patch":[[{"diffs":[[-1,"\r\n\r\n"],[0,"// First"]],"start1":0,"start2":0,"length1":12,"length2":8}]],"length":3065,"saved":false}
